# DirectLink
基于 UDP 打洞技术的内网 P2P 直连工具  
开发者： hnxinyu2005  
开发者 GitHub： https://github.com/hnxinyu2005  
项目网址： https://github.com/hnxinyu2005/DirectLink  

## 项目介绍
### 简单概括
致力于在不需要服务器交换两端 IP 地址的情况下达到双端 P2P 直连。如果无法实现或打洞成功概率过低，将会改为使用传统方式进行连接。  
### 做项目的初衷
我最先设想自己开发一款程序能让我和另一个地方的朋友远程游戏联机，比如 Minecraft 一般情况不支持远程联机。这是我来到 GitHub 社区新建的第一个项目，因此我做的尽可能像一个正规的东西，比如写好 README 文档等等、项目构造尽可能标准等。我把这个作为一次学习的机会，不仅了解了网络通信相关知识，也在慢慢学习如何做好一个项目。  
### 当前提示
当前正在开发的版本预计**使用时间同步方式**进行 P2P 打洞。后续可能移除该方案，主要原因：时间同步打洞对设备时钟、网络延迟、NAT 类型较为敏感，在复杂网络（如异地、手机热点、对称 NAT）下稳定性与成功率有限，为保证后续联机可靠性，可能会替换为更通用的打洞策略。  

## 开发状态
### 当前阶段性版本：  
**v0.1.0 - 初始原型（内网通信）**  
本版本基于 Python 实现了基础的局域网通信模块，支持**同一局域网内**两台计算机间的**双向通信**，暂不支持跨局域网 / 公网通信，属于核心底层通信的原型版本。  
### 使用方法：（仅适用于本次 Release）
1. 准备 A 端（发送端）和 B 端（接收端）两台计算机，确保两台设备**处于同一个局域网**
2. B 端打开 cmd，输入以下命令获取内网 IPv4 地址:

```cmd
ipconfig
```

找到输出结果中的「IPv4 地址」并记录（通常以 192.168.x.x 开头）
3. B 端在 cmd 输入以下命令启动接收程序：

```cmd
python main.py receive
```

4. A 端在 cmd 输入以下命令发送信息：

```cmd
python main.py send <B 端 IPv4 地址> "<消息内容>"
```

示例：
```cmd
python main.py send 192.168.1.186 "Hello, DirectLink!"
```
5. 在 B 端窗口上能看到接收到的信息。

## 程序工作步骤
原理简介：使用 **UDP 打洞**技术，让两台在内网里的设备**不经过中间服务器**直接通信。  
1. 两台设备先进行**时间同步**。
2. 通过微信、iMessage 等平台**交换目标的公网 IP、开放的端口号及约定的时间**，并输入程序。
3. 程序到约定时间时，将会在一段时间内向对方公网 IP 发送探测数据包，届时，极大概率在各自的网关上打开一个**临时的通道**。（后续可能修改第 1 步到第 3 步为更通用的 ip 交换办法和打洞方式）
4. 为了确保程序运行期间通道不被关闭，将**持续发送心跳包**维持连接，同时对传输数据进行加密，保证通信安全。
5. 通道稳定后，两台设备即可进行**点对点数据传输**，支持游戏联机、密信发送及小型文件互传等。

## 免责与使用声明
本项目是一个基于 UDP 打洞技术的学习与实验工具，旨在帮助开发者理解内网穿透与点对点通信的原理。
### 核心声明
- **非商业性质：** 本项目仅用于**个人学习、技术研究与非商业场景**（如朋友间游戏联机），不得用于任何商业用途或未经授权的网络服务。
- **无担保与风险自担：** 本软件按“原样”提供，不提供任何明示或暗示的担保，包括但不限于对适销性、特定用途适用性及不侵权的担保。使用者需自行承担使用本软件所产生的一切风险与后果。
- **合规使用：** 使用者必须**严格遵守所在国家及地区的法律法规，以及网络服务提供商的相关规定**。严禁利用本工具从事任何非法、恶意或未经授权的网络活动。
- **国内 IP 限制：** 本工具目前仅对中国大陆地区用户开放，仅支持国内 IP 之间的连接。**严禁用于任何跨境数据传输、网络穿透及其他违反相关监管规定的用途**。
- **数据安全：** 本工具在传输过程中会对数据进行加密处理，但使用者仍需注意保护个人隐私与敏感信息，避免在不安全的网络环境中使用。**因使用本软件导致的信息泄露、设备攻击、数据丢失等任何不良后果，均由使用者自行承担。**
### 重要提示
- 本项目处于持续开发中，功能尚未完善，可能存在稳定性、兼容性及安全性问题，**请勿用于生产环境**。
- 若因使用本工具导致任何设备损坏、数据丢失、网络中断或法律纠纷，**开发者不承担任何法律及相关责任**。

## TODO
该版本为 Release 版本，暂略。

最后一次更新： 2026-02-14